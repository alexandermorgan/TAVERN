## Script to add proper header to kern files for partjoin
#step 1 - properly setting up the kern phrase files:

#1. take interpretations from the first of the krn files (xx00) and save in separate file called 'interp.krn'

sed -n 1,6p xx00 > interp.krn

#if missing explicit key interpretation, then add manually:
#sed -i '$a*F:	*F:' interp.krn

#2.NA. remove comments or headers from the first of the kern files, put final 'end file' interpretation back on.

#rid -GLId xx00 > stripped
#sed -i '$a*-	*-' stripped
#mv stripped xx00

#3. Cat each kern phrase (1 at a time) to the end of the interp file (except for the first one, b/c it'll already have the interp) 

sed -i 1,6d xx00

let i=0
for file in xx*
do
#get rid of grace notes if necessary:
#sed -i '/q/d' $file 
	if [ $i -lt 10 ]
	then
		cat interp.krn $file | grep -v '^$' > phrase0$i.krn
	else
		cat interp.krn $file | grep -v '^$' > phrase$i.krn
	fi
let i=$i+1
done 


