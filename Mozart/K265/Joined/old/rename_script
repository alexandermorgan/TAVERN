
#first variable sets the name of the composer (one letter) and the 3 digit opus number. E.g. B070 
#let com.opus = $1

#2nd variable sets the number of variations in the opus
#variation = $2 

#3rd variable sets the number of phrases per variation (except final phrase)
#phrases=$3

#4th variable sets the annotator as first (a) or second (b)
#annotator=$4

#"i" represents the variation number

let i=0
let count=1

#printf command allows zero-padding (in this case two digits long), the -v allows me to store the ouput as variable k.

printf -v k "%02d" $count

for file in PhraseB*
do

printf -v j "%02d" $i

if [ $i -lt $2 -a $count -lt $3 ]
then 
cp $file $1'_'$j'_'$k'_'$4'.krn'
fi
		if [ $i -eq $2 ]
		then
			cp $file $1'_'$j'_'$k'_'$4'.krn'

		elif [ $i -lt $2 -a $count -eq $3 ]
		then
			cp $file $1'_'$j'_'$k'_'$4.'krn'
			let "i += 1"
			let count=0
		fi
let "count += 1"
printf -v k "%02d" $count
done

